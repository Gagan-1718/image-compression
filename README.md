# Image Compression Tool

A high-performance C implementation of Huffman coding for lossless image compression, supporting both grayscale and RGB BMP images.

## ğŸš€ Overview

This project provides efficient Huffman encoding and decoding algorithms to compress and decompress BMP images with minimal quality loss. By leveraging frequency-based encoding, the tool significantly reduces file sizes while maintaining perfect reconstruction capability.

## âœ¨ Features

- **Lossless Compression**: Perfect reconstruction of original images
- **Dual Format Support**: Handles both grayscale and RGB color images
- **Huffman Coding**: Industry-standard compression algorithm
- **Custom Codebook Generation**: Dynamically creates optimal encoding tables
- **BMP Format**: Direct support for Windows Bitmap files

## ğŸ“ Project Structure

```
IMAGE-COMPRESSION/
â”œâ”€â”€ gray_comp.c           # Grayscale image compression
â”œâ”€â”€ gray_decomp.c         # Grayscale image decompression
â”œâ”€â”€ rgb_compression.c     # RGB image compression
â”œâ”€â”€ rgb_decompression.c   # RGB image decompression
â””â”€â”€ README.md            # Project documentation
```

## ğŸ› ï¸ Implementation Details

### Compression Process

1. **Frequency Analysis**: Scans image pixels and builds frequency histogram
2. **Huffman Tree Construction**: Creates binary tree using min-heap for optimal encoding
3. **Code Generation**: Generates variable-length codes (shorter for frequent values)
4. **Encoding**: Converts pixel values to compressed bit sequences
5. **Output**: Produces compressed file and codebook for reconstruction

### Decompression Process

1. **Codebook Loading**: Reads Huffman codes from saved codebook
2. **Tree Reconstruction**: Rebuilds Huffman tree from codes
3. **Bit Parsing**: Traverses tree using encoded bits to recover pixel values
4. **Image Reconstruction**: Restores original image dimensions and values

## ğŸ”§ Compilation

Compile the programs using GCC or any C compiler:

```bash
# Grayscale compression
gcc gray_comp.c -o gray_comp

# Grayscale decompression
gcc gray_decomp.c -o gray_decomp

# RGB compression
gcc rgb_compression.c -o rgb_compression

# RGB decompression
gcc rgb_decompression.c -o rgb_decompression
```

## ğŸ’» Usage

### Grayscale Images

**Compression:**
```bash
./gray_comp
```
- Input: `inp.bmp` (grayscale BMP image)
- Output: 
  - `enc.txt` (encoded bit sequence)
  - `codebook.txt` (Huffman codes)
  - `dimensions.txt` (image dimensions)

**Decompression:**
```bash
./gray_decomp
```
- Input: Files generated by compression
- Output: Reconstructed BMP image

### RGB Color Images

**Compression:**
```bash
./rgb_compression
```
- Input: `image.bmp` (24-bit RGB BMP image)
- Output:
  - `compressed.huff` (encoded data for all channels)
  - `codebook.txt` (Huffman codes for R, G, B channels)

**Decompression:**
```bash
./rgb_decompression
```
- Input: Files generated by compression
- Output: Reconstructed RGB BMP image

## ğŸ“Š Technical Specifications

### Grayscale Implementation
- **Input Format**: 24-bit BMP (reads only one channel)
- **Color Depth**: 8-bit (256 grayscale levels)
- **Algorithm**: Standard Huffman coding with min-heap
- **Output**: ASCII text representation of binary codes

### RGB Implementation
- **Input Format**: 24-bit RGB BMP
- **Color Depth**: 8-bit per channel (R, G, B)
- **Algorithm**: Separate Huffman trees for each color channel
- **Output**: Combined Huffman encoding for all channels

## ğŸ—ï¸ Data Structures

### Node Structure (Huffman Tree)
```c
typedef struct node {
    int value;           // Pixel value (-1 for internal nodes)
    int freq;            // Frequency count
    struct node *left;   // Left child (0)
    struct node *right;  // Right child (1)
} Node;
```

### MinHeap (Priority Queue)
Efficient extraction of minimum frequency nodes during tree construction.

## ğŸ¯ Algorithm Complexity

- **Time Complexity**: O(n log k) where n = pixels, k = unique values
- **Space Complexity**: O(k) for Huffman tree and codebook
- **Compression Ratio**: Varies based on image content (higher redundancy = better compression)

## âš™ï¸ Configuration

**Note**: Current implementation uses hardcoded file paths. Modify the following paths in source files before compilation:

- Grayscale: `D:\\Gagan\\`
- RGB: `D:\\MINI_PROJECT\\`

Update paths to match your directory structure.

## ğŸ“ Output Files

### Codebook Format
```
<pixel_value> <huffman_code>
```
Example:
```
0 000
15 001
255 1111
```

### RGB Codebook Format
```
<channel> <pixel_value> <huffman_code>
```
Example:
```
R 125 0101
G 78 110
B 200 111
```

## ğŸ” Use Cases

- **Image Archival**: Reduce storage requirements for large image collections
- **Network Transmission**: Minimize bandwidth for image transfer
- **Embedded Systems**: Optimize memory usage in resource-constrained environments
- **Medical Imaging**: Lossless compression for diagnostic images
- **Educational**: Learn compression algorithms and data structures

## ğŸš§ Limitations

- BMP format only (no JPEG, PNG support)
- Fixed file paths require modification
- No GUI interface (command-line only)
- Limited error handling for invalid inputs

## ğŸ”® Future Enhancements

- [ ] Add PNG/JPEG support
- [ ] Implement command-line arguments for flexible file paths
- [ ] Add compression ratio statistics
- [ ] Optimize memory usage for large images
- [ ] Implement parallel processing for RGB channels
- [ ] Add GUI interface
- [ ] Support for different bit depths

## ğŸ“š Technical Background

### Huffman Coding
Developed by David Huffman in 1952, this algorithm creates optimal prefix codes based on symbol frequencies. More frequent symbols receive shorter codes, resulting in overall data reduction.

### Why Lossless?
Unlike lossy compression (JPEG), Huffman coding preserves every bit of information, making it ideal for applications where data integrity is critical.

## ğŸ¤ Contributing

Contributions are welcome! Feel free to:
- Report bugs
- Suggest features
- Submit pull requests
- Improve documentation

## ğŸ“„ License

This project is open-source and available for educational and commercial use.

## ğŸ‘¨â€ğŸ’» Author

Created as an image compression implementation using Huffman coding algorithms in C.

## ğŸ™ Acknowledgments

- Based on classical Huffman coding principles
- Implements min-heap priority queue for optimal tree construction
- BMP file format handling for image I/O

---

**Note**: Ensure input BMP files are in the correct format (24-bit) before compression. Invalid formats may cause unexpected behavior.
